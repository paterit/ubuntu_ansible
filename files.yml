- name: ZSH config file
  hosts: localhost

  vars:
    files:
      - src: "files/.zshrc"
        dest: "~/"
      - src: "files/.tmux.conf"
        dest: "~/"
      - src: "files/config/allacritty.yml"
        dest: "~/.config/allacritty/"
      - src: "files/local/share/konsole/WS.profile"
        dest: "~/.local/share/konsole/"
    files_force:
      - src: "files/config/konsolerc"
        dest: "~/.config/"

  tasks:

    - name: Copy files if they don't exist
      ansible.builtin.copy:
        src: "{{ item.src }}"
        dest: "{{ item.dest }}"
        owner: "{{ ansible_user_id }}"
        group: "{{ ansible_user_id }}"
        mode: "0644"
        force: false
      loop: "{{ files }}"

    - name: Copy files if they exist
      ansible.builtin.copy:
        src: "{{ item.src }}"
        dest: "{{ item.dest }}"
        owner: "{{ ansible_user_id }}"
        group: "{{ ansible_user_id }}"
        mode: "0644"
        force: true
      loop: "{{ files_force }}"
